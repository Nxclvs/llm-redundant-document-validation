{
  "document": {
    "path": "tests\\datasets\\generated_de_v1\\documents\\rechnung\\INV_014.png",
    "name": "INV_014.png"
  },
  "final_status": "invalid",
  "summary": "Dokument: INV_014.png | Schema-Validation: Errors=0, Warnings=4, Infos=0 | Rule-Validation (Extraktion): Errors=1, Warnings=0, Infos=0 | Semantische Validation: Status=valid, Errors=0, Warnings=0, Infos=4 | Finaler Status: invalid",
  "extraction": {
    "run_id": "20260128_012235",
    "doc_type": "rechnung",
    "experiment": {
      "name": "E1V1_gpt_plus_sem_pixtral",
      "primary_extractor": "gpt",
      "extractors": [
        {
          "id": "gpt",
          "provider": "openai",
          "model": "gpt-4o"
        }
      ],
      "validators": [
        {
          "id": "v1",
          "provider": "mistral",
          "model": "pixtral-large-latest"
        }
      ]
    },
    "extractors": {
      "gpt": {
        "data": {
          "typ": "rechnung",
          "sender": "Schüler\nMusterstraße 1\n12345 Musterstadt",
          "empfaenger": "Dr. Isabell Ring B.Sc.\nEdda-Bloch-Weg 83-44\n91074 Calau",
          "rechnungsnummer": "RE-2026-3035",
          "datum": "20.01.2026",
          "items": "1 Scale wireless niches 8 105.27 842.16\n2 Syndicate ubiquitous e-markets 9 45.43 408.87\n3 Engineer interactive synergies 3 116.89 350.67\n4 Maximize web-enabled networks 10 90.27 902.70\n5 Matrix web-enabled e-tailers 5 135.46 677.30",
          "total_net": "3181.70",
          "total_vat": "604.52",
          "total_gross": "3786.22"
        },
        "raw_response": "{\n  \"typ\": \"rechnung\",\n  \"sender\": \"Schüler\\nMusterstraße 1\\n12345 Musterstadt\",\n  \"empfaenger\": \"Dr. Isabell Ring B.Sc.\\nEdda-Bloch-Weg 83-44\\n91074 Calau\",\n  \"rechnungsnummer\": \"RE-2026-3035\",\n  \"datum\": \"20.01.2026\",\n  \"items\": \"1 Scale wireless niches 8 105.27 842.16\\n2 Syndicate ubiquitous e-markets 9 45.43 408.87\\n3 Engineer interactive synergies 3 116.89 350.67\\n4 Maximize web-enabled networks 10 90.27 902.70\\n5 Matrix web-enabled e-tailers 5 135.46 677.30\",\n  \"total_net\": \"3181.70\",\n  \"total_vat\": \"604.52\",\n  \"total_gross\": \"3786.22\"\n}",
        "duration_seconds": 19.506,
        "model": "gpt-4o",
        "doc_type": "rechnung"
      }
    },
    "data": {
      "typ": "rechnung",
      "sender": "Schüler\nMusterstraße 1\n12345 Musterstadt",
      "empfaenger": "Dr. Isabell Ring B.Sc.\nEdda-Bloch-Weg 83-44\n91074 Calau",
      "rechnungsnummer": "RE-2026-3035",
      "datum": "20.01.2026",
      "items": "1 Scale wireless niches 8 105.27 842.16\n2 Syndicate ubiquitous e-markets 9 45.43 408.87\n3 Engineer interactive synergies 3 116.89 350.67\n4 Maximize web-enabled networks 10 90.27 902.70\n5 Matrix web-enabled e-tailers 5 135.46 677.30",
      "total_net": "3181.70",
      "total_vat": "604.52",
      "total_gross": "3786.22"
    }
  },
  "schema_validation": {
    "is_valid": true,
    "violations": [
      {
        "field": "items",
        "rule": "type_mismatch",
        "severity": "warning",
        "message": "Feld 'items' hat falschen Datentyp. Erwartet: list, Gefunden: str."
      },
      {
        "field": "total_net",
        "rule": "type_mismatch",
        "severity": "warning",
        "message": "Feld 'total_net' hat falschen Datentyp. Erwartet: float, Gefunden: str."
      },
      {
        "field": "total_vat",
        "rule": "type_mismatch",
        "severity": "warning",
        "message": "Feld 'total_vat' hat falschen Datentyp. Erwartet: float, Gefunden: str."
      },
      {
        "field": "total_gross",
        "rule": "type_mismatch",
        "severity": "warning",
        "message": "Feld 'total_gross' hat falschen Datentyp. Erwartet: float, Gefunden: str."
      }
    ]
  },
  "rule_validation": {
    "is_valid": false,
    "violations": [
      {
        "field": "items",
        "rule": "type",
        "severity": "error",
        "message": "items ist kein Array/Liste."
      }
    ]
  },
  "semantic_validation": {
    "status": "valid",
    "issues": [
      {
        "field": "items",
        "type": "info",
        "severity": "info",
        "message": "Die Extraktion der Positionen ist korrekt, jedoch ist das Format als durchgehender String nicht ideal für die Weiterverarbeitung."
      },
      {
        "field": "total_net",
        "type": "info",
        "severity": "info",
        "message": "Der Nettobetrag (3181.70 €) stimmt mit dem Dokument überein."
      },
      {
        "field": "total_vat",
        "type": "info",
        "severity": "info",
        "message": "Der Mehrwertsteuerbetrag (604.52 €) stimmt mit dem Dokument überein."
      },
      {
        "field": "total_gross",
        "type": "info",
        "severity": "info",
        "message": "Der Gesamtbetrag (3786.22 €) stimmt mit dem Dokument überein."
      }
    ],
    "comments": "Alle extrahierten Werte sind korrekt und stimmen mit dem Originaldokument überein. Es gibt keine Abweichungen oder Fehler. Das Format der Positionen könnte jedoch verbessert werden, um die Daten besser strukturiert zu erfassen.",
    "stages": [
      {
        "status": "valid",
        "issues": [
          {
            "field": "items",
            "type": "info",
            "severity": "info",
            "message": "Die Extraktion der Positionen ist korrekt, jedoch ist das Format als durchgehender String nicht ideal für die Weiterverarbeitung."
          },
          {
            "field": "total_net",
            "type": "info",
            "severity": "info",
            "message": "Der Nettobetrag (3181.70 €) stimmt mit dem Dokument überein."
          },
          {
            "field": "total_vat",
            "type": "info",
            "severity": "info",
            "message": "Der Mehrwertsteuerbetrag (604.52 €) stimmt mit dem Dokument überein."
          },
          {
            "field": "total_gross",
            "type": "info",
            "severity": "info",
            "message": "Der Gesamtbetrag (3786.22 €) stimmt mit dem Dokument überein."
          }
        ],
        "comments": "Alle extrahierten Werte sind korrekt und stimmen mit dem Originaldokument überein. Es gibt keine Abweichungen oder Fehler. Das Format der Positionen könnte jedoch verbessert werden, um die Daten besser strukturiert zu erfassen.",
        "raw_response": "{\n  \"status\": \"valid\",\n  \"issues\": [\n    {\n      \"field\": \"items\",\n      \"type\": \"info\",\n      \"severity\": \"info\",\n      \"message\": \"Die Extraktion der Positionen ist korrekt, jedoch ist das Format als durchgehender String nicht ideal für die Weiterverarbeitung.\"\n    },\n    {\n      \"field\": \"total_net\",\n      \"type\": \"info\",\n      \"severity\": \"info\",\n      \"message\": \"Der Nettobetrag (3181.70 €) stimmt mit dem Dokument überein.\"\n    },\n    {\n      \"field\": \"total_vat\",\n      \"type\": \"info\",\n      \"severity\": \"info\",\n      \"message\": \"Der Mehrwertsteuerbetrag (604.52 €) stimmt mit dem Dokument überein.\"\n    },\n    {\n      \"field\": \"total_gross\",\n      \"type\": \"info\",\n      \"severity\": \"info\",\n      \"message\": \"Der Gesamtbetrag (3786.22 €) stimmt mit dem Dokument überein.\"\n    }\n  ],\n  \"comments\": \"Alle extrahierten Werte sind korrekt und stimmen mit dem Originaldokument überein. Es gibt keine Abweichungen oder Fehler. Das Format der Positionen könnte jedoch verbessert werden, um die Daten besser strukturiert zu erfassen.\"\n}",
        "duration_seconds": 7.949,
        "model": "pixtral-large-latest",
        "provider": "mistral",
        "parsed": {
          "status": "valid",
          "issues": [
            {
              "field": "items",
              "type": "info",
              "severity": "info",
              "message": "Die Extraktion der Positionen ist korrekt, jedoch ist das Format als durchgehender String nicht ideal für die Weiterverarbeitung."
            },
            {
              "field": "total_net",
              "type": "info",
              "severity": "info",
              "message": "Der Nettobetrag (3181.70 €) stimmt mit dem Dokument überein."
            },
            {
              "field": "total_vat",
              "type": "info",
              "severity": "info",
              "message": "Der Mehrwertsteuerbetrag (604.52 €) stimmt mit dem Dokument überein."
            },
            {
              "field": "total_gross",
              "type": "info",
              "severity": "info",
              "message": "Der Gesamtbetrag (3786.22 €) stimmt mit dem Dokument überein."
            }
          ],
          "comments": "Alle extrahierten Werte sind korrekt und stimmen mit dem Originaldokument überein. Es gibt keine Abweichungen oder Fehler. Das Format der Positionen könnte jedoch verbessert werden, um die Daten besser strukturiert zu erfassen."
        }
      }
    ],
    "duration_seconds_total": 7.949,
    "models_used": [
      "pixtral-large-latest"
    ],
    "providers_used": [
      "mistral"
    ],
    "stats": {
      "errors": 0,
      "warnings": 0,
      "infos": 4
    }
  },
  "cross_model_validation": null,
  "created_at": "2026-01-28T01:44:03"
}