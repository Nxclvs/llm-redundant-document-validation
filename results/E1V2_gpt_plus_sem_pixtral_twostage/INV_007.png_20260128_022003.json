{
  "document": {
    "path": "tests\\datasets\\generated_de_v1\\documents\\rechnung\\INV_007.png",
    "name": "INV_007.png"
  },
  "final_status": "invalid",
  "summary": "Dokument: INV_007.png | Schema-Validation: Errors=0, Warnings=4, Infos=0 | Rule-Validation (Extraktion): Errors=1, Warnings=0, Infos=0 | Semantische Validation: Status=uncertain, Errors=1, Warnings=2, Infos=8 | Finaler Status: invalid",
  "extraction": {
    "run_id": "20260128_015536",
    "doc_type": "rechnung",
    "experiment": {
      "name": "E1V2_gpt_plus_sem_pixtral_twostage",
      "primary_extractor": "gpt",
      "extractors": [
        {
          "id": "gpt",
          "provider": "openai",
          "model": "gpt-4o"
        }
      ],
      "validators": [
        {
          "id": "v1",
          "provider": "mistral",
          "model": "pixtral-large-latest"
        },
        {
          "id": "v2",
          "provider": "mistral",
          "model": "pixtral-large-latest"
        }
      ]
    },
    "extractors": {
      "gpt": {
        "data": {
          "typ": "rechnung",
          "sender": "Metz\nMusterstraße 1\n12345 Musterstadt",
          "empfaenger": "Frau Irma Peukert\nScholtzstraße 10-43\n49381 Cuxhaven",
          "rechnungsnummer": "RE-2026-8388",
          "datum": "27.01.2026",
          "items": "1 Engineer bricks-and-clicks functionaliti, 10, 13.76, 137.60; 2 Target open-source bandwidth, 3, 21.62, 64.86; 3 Implement rich bandwidth, 7, 109.96, 769.72; 4 Disintermediate magnetic functionalities, 2, 41.73, 83.46; 5 Deploy real-time solutions, 10, 63.89, 638.90; 6 Monetize impactful supply-chains, 9, 80.28, 722.52",
          "total_net": "2417.06",
          "total_vat": "459.24",
          "total_gross": "2876.30"
        },
        "raw_response": "{\n  \"typ\": \"rechnung\",\n  \"sender\": \"Metz\\nMusterstraße 1\\n12345 Musterstadt\",\n  \"empfaenger\": \"Frau Irma Peukert\\nScholtzstraße 10-43\\n49381 Cuxhaven\",\n  \"rechnungsnummer\": \"RE-2026-8388\",\n  \"datum\": \"27.01.2026\",\n  \"items\": \"1 Engineer bricks-and-clicks functionaliti, 10, 13.76, 137.60; 2 Target open-source bandwidth, 3, 21.62, 64.86; 3 Implement rich bandwidth, 7, 109.96, 769.72; 4 Disintermediate magnetic functionalities, 2, 41.73, 83.46; 5 Deploy real-time solutions, 10, 63.89, 638.90; 6 Monetize impactful supply-chains, 9, 80.28, 722.52\",\n  \"total_net\": \"2417.06\",\n  \"total_vat\": \"459.24\",\n  \"total_gross\": \"2876.30\"\n}",
        "duration_seconds": 17.685,
        "model": "gpt-4o",
        "doc_type": "rechnung"
      }
    },
    "data": {
      "typ": "rechnung",
      "sender": "Metz\nMusterstraße 1\n12345 Musterstadt",
      "empfaenger": "Frau Irma Peukert\nScholtzstraße 10-43\n49381 Cuxhaven",
      "rechnungsnummer": "RE-2026-8388",
      "datum": "27.01.2026",
      "items": "1 Engineer bricks-and-clicks functionaliti, 10, 13.76, 137.60; 2 Target open-source bandwidth, 3, 21.62, 64.86; 3 Implement rich bandwidth, 7, 109.96, 769.72; 4 Disintermediate magnetic functionalities, 2, 41.73, 83.46; 5 Deploy real-time solutions, 10, 63.89, 638.90; 6 Monetize impactful supply-chains, 9, 80.28, 722.52",
      "total_net": "2417.06",
      "total_vat": "459.24",
      "total_gross": "2876.30"
    }
  },
  "schema_validation": {
    "is_valid": true,
    "violations": [
      {
        "field": "items",
        "rule": "type_mismatch",
        "severity": "warning",
        "message": "Feld 'items' hat falschen Datentyp. Erwartet: list, Gefunden: str."
      },
      {
        "field": "total_net",
        "rule": "type_mismatch",
        "severity": "warning",
        "message": "Feld 'total_net' hat falschen Datentyp. Erwartet: float, Gefunden: str."
      },
      {
        "field": "total_vat",
        "rule": "type_mismatch",
        "severity": "warning",
        "message": "Feld 'total_vat' hat falschen Datentyp. Erwartet: float, Gefunden: str."
      },
      {
        "field": "total_gross",
        "rule": "type_mismatch",
        "severity": "warning",
        "message": "Feld 'total_gross' hat falschen Datentyp. Erwartet: float, Gefunden: str."
      }
    ]
  },
  "rule_validation": {
    "is_valid": false,
    "violations": [
      {
        "field": "items",
        "rule": "type",
        "severity": "error",
        "message": "items ist kein Array/Liste."
      }
    ]
  },
  "semantic_validation": {
    "status": "uncertain",
    "issues": [
      {
        "field": "empfaenger",
        "type": "mismatch",
        "severity": "error",
        "message": "Straßenname im Empfängerfeld enthält 'Scholtzstraße 10-43', im Dokument steht 'Scholtzstraße 10.43'."
      },
      {
        "field": "items",
        "type": "info",
        "severity": "info",
        "message": "Alle Positionen (Beschreibung, Menge, Einzelpreis, Gesamtpreis) stimmen mit dem Dokument überein."
      },
      {
        "field": "total_net",
        "type": "match",
        "severity": "info",
        "message": "Nettobetrag stimmt mit dem Dokument überein (2417.06 €)."
      },
      {
        "field": "total_vat",
        "type": "match",
        "severity": "info",
        "message": "Mehrwertsteuerbetrag stimmt mit dem Dokument überein (459.24 €)."
      },
      {
        "field": "total_gross",
        "type": "match",
        "severity": "info",
        "message": "Gesamtbetrag stimmt mit dem Dokument überein (2876.30 €)."
      },
      {
        "field": "empfaenger",
        "type": "mismatch",
        "severity": "warning",
        "message": "Straßenname im Empfängerfeld enthält möglicherweise einen Tippfehler: 'Scholtzstraße' statt 'Scholtzstraße 10-43'."
      },
      {
        "field": "items",
        "type": "uncertain",
        "severity": "warning",
        "message": "Beschreibung in Position 1 enthält möglicherweise einen Tippfehler: 'functionaliti' statt 'functionalities'."
      },
      {
        "field": "items",
        "type": "info",
        "severity": "info",
        "message": "Alle Positionen und Werte stimmen mit dem Originaldokument überein."
      },
      {
        "field": "total_net",
        "type": "match",
        "severity": "info",
        "message": "Nettobetrag stimmt mit dem Originaldokument überein."
      },
      {
        "field": "total_vat",
        "type": "match",
        "severity": "info",
        "message": "Mehrwertsteuerbetrag stimmt mit dem Originaldokument überein."
      },
      {
        "field": "total_gross",
        "type": "match",
        "severity": "info",
        "message": "Gesamtbetrag stimmt mit dem Originaldokument überein."
      }
    ],
    "comments": "Die meisten Felder sind korrekt extrahiert. Es gibt jedoch eine klare Abweichung im Straßennamen des Empfängers, die als Fehler eingestuft wird. Alle anderen Werte stimmen mit dem Dokument überein. | Die meisten Felder stimmen mit dem Originaldokument überein. Es gibt jedoch kleinere Unsicherheiten bei der Schreibweise der Straße im Empfängerfeld und der Beschreibung in Position 1. Insgesamt ist die Extraktion weitgehend korrekt, aber die genannten Unsicherheiten sollten überprüft werden.",
    "stages": [
      {
        "status": "uncertain",
        "issues": [
          {
            "field": "empfaenger",
            "type": "mismatch",
            "severity": "error",
            "message": "Straßenname im Empfängerfeld enthält 'Scholtzstraße 10-43', im Dokument steht 'Scholtzstraße 10.43'."
          },
          {
            "field": "items",
            "type": "info",
            "severity": "info",
            "message": "Alle Positionen (Beschreibung, Menge, Einzelpreis, Gesamtpreis) stimmen mit dem Dokument überein."
          },
          {
            "field": "total_net",
            "type": "match",
            "severity": "info",
            "message": "Nettobetrag stimmt mit dem Dokument überein (2417.06 €)."
          },
          {
            "field": "total_vat",
            "type": "match",
            "severity": "info",
            "message": "Mehrwertsteuerbetrag stimmt mit dem Dokument überein (459.24 €)."
          },
          {
            "field": "total_gross",
            "type": "match",
            "severity": "info",
            "message": "Gesamtbetrag stimmt mit dem Dokument überein (2876.30 €)."
          }
        ],
        "comments": "Die meisten Felder sind korrekt extrahiert. Es gibt jedoch eine klare Abweichung im Straßennamen des Empfängers, die als Fehler eingestuft wird. Alle anderen Werte stimmen mit dem Dokument überein.",
        "raw_response": "{\n  \"status\": \"uncertain\",\n  \"issues\": [\n    {\n      \"field\": \"empfaenger\",\n      \"type\": \"mismatch\",\n      \"severity\": \"error\",\n      \"message\": \"Straßenname im Empfängerfeld enthält 'Scholtzstraße 10-43', im Dokument steht 'Scholtzstraße 10.43'.\"\n    },\n    {\n      \"field\": \"items\",\n      \"type\": \"info\",\n      \"severity\": \"info\",\n      \"message\": \"Alle Positionen (Beschreibung, Menge, Einzelpreis, Gesamtpreis) stimmen mit dem Dokument überein.\"\n    },\n    {\n      \"field\": \"total_net\",\n      \"type\": \"match\",\n      \"severity\": \"info\",\n      \"message\": \"Nettobetrag stimmt mit dem Dokument überein (2417.06 €).\"\n    },\n    {\n      \"field\": \"total_vat\",\n      \"type\": \"match\",\n      \"severity\": \"info\",\n      \"message\": \"Mehrwertsteuerbetrag stimmt mit dem Dokument überein (459.24 €).\"\n    },\n    {\n      \"field\": \"total_gross\",\n      \"type\": \"match\",\n      \"severity\": \"info\",\n      \"message\": \"Gesamtbetrag stimmt mit dem Dokument überein (2876.30 €).\"\n    }\n  ],\n  \"comments\": \"Die meisten Felder sind korrekt extrahiert. Es gibt jedoch eine klare Abweichung im Straßennamen des Empfängers, die als Fehler eingestuft wird. Alle anderen Werte stimmen mit dem Dokument überein.\"\n}",
        "duration_seconds": 10.65,
        "model": "pixtral-large-latest",
        "provider": "mistral",
        "parsed": {
          "status": "uncertain",
          "issues": [
            {
              "field": "empfaenger",
              "type": "mismatch",
              "severity": "error",
              "message": "Straßenname im Empfängerfeld enthält 'Scholtzstraße 10-43', im Dokument steht 'Scholtzstraße 10.43'."
            },
            {
              "field": "items",
              "type": "info",
              "severity": "info",
              "message": "Alle Positionen (Beschreibung, Menge, Einzelpreis, Gesamtpreis) stimmen mit dem Dokument überein."
            },
            {
              "field": "total_net",
              "type": "match",
              "severity": "info",
              "message": "Nettobetrag stimmt mit dem Dokument überein (2417.06 €)."
            },
            {
              "field": "total_vat",
              "type": "match",
              "severity": "info",
              "message": "Mehrwertsteuerbetrag stimmt mit dem Dokument überein (459.24 €)."
            },
            {
              "field": "total_gross",
              "type": "match",
              "severity": "info",
              "message": "Gesamtbetrag stimmt mit dem Dokument überein (2876.30 €)."
            }
          ],
          "comments": "Die meisten Felder sind korrekt extrahiert. Es gibt jedoch eine klare Abweichung im Straßennamen des Empfängers, die als Fehler eingestuft wird. Alle anderen Werte stimmen mit dem Dokument überein."
        }
      },
      {
        "status": "uncertain",
        "issues": [
          {
            "field": "empfaenger",
            "type": "mismatch",
            "severity": "warning",
            "message": "Straßenname im Empfängerfeld enthält möglicherweise einen Tippfehler: 'Scholtzstraße' statt 'Scholtzstraße 10-43'."
          },
          {
            "field": "items",
            "type": "uncertain",
            "severity": "warning",
            "message": "Beschreibung in Position 1 enthält möglicherweise einen Tippfehler: 'functionaliti' statt 'functionalities'."
          },
          {
            "field": "items",
            "type": "info",
            "severity": "info",
            "message": "Alle Positionen und Werte stimmen mit dem Originaldokument überein."
          },
          {
            "field": "total_net",
            "type": "match",
            "severity": "info",
            "message": "Nettobetrag stimmt mit dem Originaldokument überein."
          },
          {
            "field": "total_vat",
            "type": "match",
            "severity": "info",
            "message": "Mehrwertsteuerbetrag stimmt mit dem Originaldokument überein."
          },
          {
            "field": "total_gross",
            "type": "match",
            "severity": "info",
            "message": "Gesamtbetrag stimmt mit dem Originaldokument überein."
          }
        ],
        "comments": "Die meisten Felder stimmen mit dem Originaldokument überein. Es gibt jedoch kleinere Unsicherheiten bei der Schreibweise der Straße im Empfängerfeld und der Beschreibung in Position 1. Insgesamt ist die Extraktion weitgehend korrekt, aber die genannten Unsicherheiten sollten überprüft werden.",
        "raw_response": "{\n  \"status\": \"uncertain\",\n  \"issues\": [\n    {\n      \"field\": \"empfaenger\",\n      \"type\": \"mismatch\",\n      \"severity\": \"warning\",\n      \"message\": \"Straßenname im Empfängerfeld enthält möglicherweise einen Tippfehler: 'Scholtzstraße' statt 'Scholtzstraße 10-43'.\"\n    },\n    {\n      \"field\": \"items\",\n      \"type\": \"uncertain\",\n      \"severity\": \"warning\",\n      \"message\": \"Beschreibung in Position 1 enthält möglicherweise einen Tippfehler: 'functionaliti' statt 'functionalities'.\"\n    },\n    {\n      \"field\": \"items\",\n      \"type\": \"info\",\n      \"severity\": \"info\",\n      \"message\": \"Alle Positionen und Werte stimmen mit dem Originaldokument überein.\"\n    },\n    {\n      \"field\": \"total_net\",\n      \"type\": \"match\",\n      \"severity\": \"info\",\n      \"message\": \"Nettobetrag stimmt mit dem Originaldokument überein.\"\n    },\n    {\n      \"field\": \"total_vat\",\n      \"type\": \"match\",\n      \"severity\": \"info\",\n      \"message\": \"Mehrwertsteuerbetrag stimmt mit dem Originaldokument überein.\"\n    },\n    {\n      \"field\": \"total_gross\",\n      \"type\": \"match\",\n      \"severity\": \"info\",\n      \"message\": \"Gesamtbetrag stimmt mit dem Originaldokument überein.\"\n    }\n  ],\n  \"comments\": \"Die meisten Felder stimmen mit dem Originaldokument überein. Es gibt jedoch kleinere Unsicherheiten bei der Schreibweise der Straße im Empfängerfeld und der Beschreibung in Position 1. Insgesamt ist die Extraktion weitgehend korrekt, aber die genannten Unsicherheiten sollten überprüft werden.\"\n}",
        "duration_seconds": 10.455,
        "model": "pixtral-large-latest",
        "provider": "mistral",
        "parsed": {
          "status": "uncertain",
          "issues": [
            {
              "field": "empfaenger",
              "type": "mismatch",
              "severity": "warning",
              "message": "Straßenname im Empfängerfeld enthält möglicherweise einen Tippfehler: 'Scholtzstraße' statt 'Scholtzstraße 10-43'."
            },
            {
              "field": "items",
              "type": "uncertain",
              "severity": "warning",
              "message": "Beschreibung in Position 1 enthält möglicherweise einen Tippfehler: 'functionaliti' statt 'functionalities'."
            },
            {
              "field": "items",
              "type": "info",
              "severity": "info",
              "message": "Alle Positionen und Werte stimmen mit dem Originaldokument überein."
            },
            {
              "field": "total_net",
              "type": "match",
              "severity": "info",
              "message": "Nettobetrag stimmt mit dem Originaldokument überein."
            },
            {
              "field": "total_vat",
              "type": "match",
              "severity": "info",
              "message": "Mehrwertsteuerbetrag stimmt mit dem Originaldokument überein."
            },
            {
              "field": "total_gross",
              "type": "match",
              "severity": "info",
              "message": "Gesamtbetrag stimmt mit dem Originaldokument überein."
            }
          ],
          "comments": "Die meisten Felder stimmen mit dem Originaldokument überein. Es gibt jedoch kleinere Unsicherheiten bei der Schreibweise der Straße im Empfängerfeld und der Beschreibung in Position 1. Insgesamt ist die Extraktion weitgehend korrekt, aber die genannten Unsicherheiten sollten überprüft werden."
        }
      }
    ],
    "duration_seconds_total": 21.105,
    "models_used": [
      "pixtral-large-latest"
    ],
    "providers_used": [
      "mistral"
    ],
    "stats": {
      "errors": 1,
      "warnings": 2,
      "infos": 8
    }
  },
  "cross_model_validation": null,
  "created_at": "2026-01-28T02:20:03"
}